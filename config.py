import os

# Токен бота, который передает нам Bot-Father
BOT_TOKEN = "BOT_TOKEN"

# Имя папки, в которую будут загружаться логи, файлы со стоимостью акций
DATA_DIR = "user_data"

TRADE_STRATEGY = "fractional"  # или "fixed", "min_shares"
# Типы стратегии закупки
# fractional - долевая стратегия (покупка от доли доступного капитала)
# т.е. этот режим ограничивает объем закупаемых позиций в зависимости от 
# свободной денежной массы
# т.е. если у нас есть свободная 10Ка, то макс сумма покупки 10К * 0.3 = 3К
RISK_PER_TRADE = 0.3  # 30%
# но не более чем 50% от банка
MAX_POSITION_SIZE = 0.5  # 50%

# "fixed" - для этой стратегии всегда закупаем одно и то же кол-во
# т.е. при FIXED_SHARES = 10 - берем всегда по 10 шт если хватает
FIXED_SHARES = 10

# "min_shares" - гуляем на всю катлету и закупаем максимально доступное кол-во
# и не менее MIN_SHARES = 5 шт.
MIN_SHARES = 5

# Симуляция
# Кол-во месяцев, в течение которых мы симулируем бэктест и симулируем как бы торговлю в реальном времени суточную
OFFSET_MONTHS = 2

# На сколько секунд у нас морозится поток (так чисто, чтобы бот с ума не сошел во время тестов)
SIMULATION_SPEED_SEC = 2

# Как далеко пытаемся предсказать стоимость в будущем
FORECAST_HORIZON = 30

# Ограничим число возможных денег для инвестиции, чтобы Баффетами себя не чувствовали))))
# Базовый минимум по $ которым можем располагать
INITIAL_CAPITAL_MIN = 100
# Максимальный объем налички для торговли
INITIAL_CAPITAL_MAX = 500_000

# Комиссии
# Минимальная комиссия за сделку для брокера
COMMISSION_RATE = 0.001

# Минимальная сумма комиссии, мало ли мелочью будем торовать, чтобы минимум 1$ был
MIN_COMMISSION = 1.0

# Минимальная сумма сделки (чтобы не частить мелочью всякой)
MIN_TRADE_VALUE = 100

# Конфигурация моделей
MODEL_CONFIG = {
    'ridge': {'alpha': 1.0},
    'random_forest': {'n_estimators': 100, 'max_depth': 10},
    'arima': {'order': (5, 1, 0)},
    'prophet': {
        'daily_seasonality': False,
        'yearly_seasonality': True,
        'weekly_seasonality': True,
        'changepoint_prior_scale': 0.05
    },
    'lstm': {
        'hidden_size': 50,
        'num_layers': 2,
        'dropout': 0.2
    },
    'ets': {
        'trend': 'add',
        'seasonal': 'add',
        'seasonal_periods': 7
    }
}